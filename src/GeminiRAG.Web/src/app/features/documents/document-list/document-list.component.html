<div class="document-list-container bg-white rounded-lg shadow-sm h-full flex flex-col" *ngIf="currentStore">
    <div class="p-3 border-b flex-shrink-0">
        <h3 class="text-base font-semibold">Documents in {{ currentStore.displayName }}</h3>
        <p class="text-xs text-gray-500 mt-1">{{ documents.length }} document(s)</p>
    </div>

    <div class="flex-1 overflow-auto p-3">
        <div *ngIf="documents.length === 0" class="text-center py-12 text-gray-400">
            <mat-icon class="text-5xl mb-3 opacity-50">folder_open</mat-icon>
            <p class="text-sm">No documents yet</p>
        </div>

        <div class="space-y-2">
            <div *ngFor="let doc of documents" class="border rounded-lg p-3 hover:shadow-md transition-shadow bg-white">
                <!-- Document Name & Status -->
                <div class="flex items-start justify-between gap-2 mb-2">
                    <div class="flex-1 min-w-0">
                        <p class="font-medium text-sm truncate" [title]="doc.displayName">
                            {{ doc.displayName }}
                        </p>
                        <span
                            class="inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                            {{ doc.status }}
                        </span>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex gap-1 flex-shrink-0">
                        <button mat-icon-button [matMenuTriggerFor]="menu" class="scale-90" matTooltip="More info">
                            <mat-icon>info</mat-icon>
                        </button>
                        <button mat-icon-button color="warn" (click)="deleteDocument(doc)" class="scale-90"
                            matTooltip="Delete">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </div>

                    <!-- Info Menu -->
                    <mat-menu #menu="matMenu">
                        <div class="px-4 py-2 max-w-xs">
                            <p class="text-xs text-gray-500 mb-1">Upload Date</p>
                            <p class="text-sm font-medium mb-2">{{ doc.uploadDate | date:'MMM d, y, h:mm a' }}</p>
                            <p class="text-xs text-gray-500 mb-1">File Name</p>
                            <p class="text-xs break-all">{{ doc.displayName }}</p>
                        </div>
                    </mat-menu>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="!currentStore" class="bg-white rounded-lg shadow-sm p-8 text-center text-gray-400">
    <mat-icon class="text-5xl mb-3 opacity-50">inventory_2</mat-icon>
    <p class="text-sm">Select a store to view documents</p>
</div>